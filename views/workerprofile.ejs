<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Merriweather+Sans:ital,wght@0,300..800;1,300..800&family=Mukta:wght@200;300;400;500;600;700;800&family=Poppins:wght@500&family=Roboto+Slab:wght@100..900&display=swap" rel="stylesheet">
    <link rel="stylesheet"  href="./css/workerprofile.css">
</head>
<body>
    <div id="preloader">
        <div class="bar">
            <div class="ball"></div>
        </div>
    </div>
    <header>
        <div id="title">SERVICESCAPE</div>
        <nav>
          <ul>
            <a href="/"><li>HOME</li></a>
            <a href="/#thirdsec"><li>SERVICES</li></a>
            <a href="/workerdashboard"><li>DASHBOARD</li></a>
            <a href="/workerprofileedit"><li>PROFILE</li></a>
            <a href="/about"><li>ABOUT</li></a>
            <a href="/logout"><li>LOGOUT</li></a>
                  
          </ul>
      </nav>
    </header>
    <div id="wrapper">
        <div id="container">
            <div class="title">WORKER  PROFILE
            </div>
            <div id="firstsec">
                <div id="deetscontainer">
                    <h2><span class="label">Name:</span> <%= data.name %></h2>
                    <h2><span class="label">City:</span> <%= data.city %></h2>
                    <h2><span class="label">Rating:</span><% for (let i = 1; i < data.rating; i++) { %>
                        <span class="star">&#9733;</span>
                    <% } %></h2>
                    <h2><span class="label">Works done:</span> <%= data.noofratings %></h2>
                    <h2><span class="label">Email:</span> <%= data.email %></h2>
                    <h2><span class="label">Contact:</span> <%= data.contact %></h2>
                    <h2><span class="label">Description:</span> <%= data.description %></h2>
                </div>
                <div id="imgbook">
                    <img src="./images/<%=data.profession%>.jpeg" alt="workerimage">
                </div>
                
            </div>
            <div id="switches">
                <h2><span class="label">Status:</span></h2>
                <label class="switch">
                    <input type="checkbox" id="status" onclick="statuschange('<%= data.status %>')" <%= data.status == "available" ? "checked" : "" %>>
                    <div class="slider"></div>
                    <div class="slider-card">
                      <div class="slider-card-face slider-card-front"></div>
                      <div class="slider-card-face slider-card-back"></div>
                    </div>
                  </label>
            </div>
            <div id="ratecontainer">
                <h1>Reviews</h1>
                <div id="reviewgrid">
                    <% data.reviews.forEach(function(review) { %>
                        <div class="record">
                            <h3><%= review.reviewer %>
                                <% for (let i = 1; i <= review.rating; i++) { %>
                                    <span class="star">&#9733;</span>
                                <% } %>
                            </h3>
                            <p><%= review.review %></p>
                        </div>
                    <% }); %>
                </div>
                
            </div>
        </div>
        </div>
    </div>
    <script src="/scripts/workerprofile.js"></script>
    <script>
        window.addEventListener('load', () => {
            const preloader = document.getElementById('preloader');
            preloader.style.display = 'none';
        });
    </script>
</body>
</html>